{"ast":null,"code":"var _jsxFileName = \"/Users/wojtek/Downloads/todo/client/src/components/Login.jsx\";\nimport React, { useState } from 'react';\nimport Cookies from 'universal-cookie';\nimport './TaskAdd.sass';\nconst cookies = new Cookies();\n\nconst handleLogin = async (email, pass) => {\n  const errField = document.querySelector('.logErr');\n  const errFField = document.querySelector('.firstLogErr');\n\n  if (email.length < 6) {\n    errField.innerText = 'Too short email!';\n    errFField.innerText = 'Too short email!';\n  } else if (!email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) {\n    errField.innerText = 'Incorrect email!';\n    errFField.innerText = 'Incorrect email!';\n  } else if (!pass.match(/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,}$/)) {\n    errField.innerText = 'Incorrect password';\n    errFField.innerText = 'Incorrect password';\n  } else {\n    errField.innerText = '';\n    errFField.innerText = '';\n\n    try {\n      const response = await fetch('/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          pass\n        })\n      });\n      let answer = await response.text();\n      answer = JSON.parse(answer);\n\n      if (answer.tasks) {\n        errField.innerText = answer.info;\n        cookies.set('login', answer.login);\n        cookies.set('user', answer.user);\n        cookies.set('tasks', answer.tasks);\n        window.location.reload(false);\n      } else {\n        errField.innerText = answer.info;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [pass, setPass] = useState('');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"taskAddPanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"login-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"Welcome back.\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"login-subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"It is really nice to see you again!\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"login-input\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    placeholder: \"email\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"login-input\",\n    value: pass,\n    onChange: e => setPass(e.target.value),\n    placeholder: \"password\",\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"login-button\",\n    onClick: () => handleLogin(email, pass),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"login-create\",\n    onClick: console.log(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 64\n    }\n  }, \"Forgot password?\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 97\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"login-create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Don\\u2019t have an account? \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 63\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    onClick: console.log(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 68\n    }\n  }, \"Create Account\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"logErr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"login-dot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/wojtek/Downloads/todo/client/src/components/Login.jsx"],"names":["React","useState","Cookies","cookies","handleLogin","email","pass","errField","document","querySelector","errFField","length","innerText","match","response","fetch","method","headers","body","JSON","stringify","answer","text","parse","tasks","info","set","login","user","window","location","reload","error","console","log","Login","setEmail","setPass","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport Cookies from 'universal-cookie'\nimport './TaskAdd.sass'\n\nconst cookies = new Cookies()\n\nconst handleLogin = async (email, pass) => {\n  const errField = document.querySelector('.logErr')\n  const errFField = document.querySelector('.firstLogErr')\n\n  if (email.length < 6) {\n      errField.innerText = 'Too short email!'\n      errFField.innerText = 'Too short email!'\n  }\n\n  else if (!email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) {\n      errField.innerText = 'Incorrect email!'\n      errFField.innerText = 'Incorrect email!'\n  }\n\n  else if (!pass.match(/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,}$/)) {\n      errField.innerText = 'Incorrect password'\n      errFField.innerText = 'Incorrect password'\n  }\n\n  else {\n      errField.innerText = ''\n      errFField.innerText = ''\n\n      try {\n          const response = await fetch('/login', {\n              method: 'POST',\n              headers: {\n              'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({ email, pass }),\n          })\n          let answer = await response.text()\n          answer = JSON.parse(answer)\n\n          if (answer.tasks) {\n              errField.innerText = answer.info\n              cookies.set('login', answer.login)\n              cookies.set('user', answer.user)\n\n              cookies.set('tasks', answer.tasks)\n              window.location.reload(false)\n\n          } else {\n              errField.innerText = answer.info\n          }\n        } catch (error) {\n          console.log(error);\n        }\n  }\n}\n\nconst Login = () => {\n  const [email, setEmail] = useState('')\n  const [pass, setPass] = useState('')\n\n  return (\n    <div className='taskAddPanel'>\n    <div className='login'>\n        <span className='login-title'>Welcome back.</span>\n        <span className='login-subtitle'>It is really nice to see you again!</span>\n        <input className='login-input' value={email} onChange={e => setEmail(e.target.value)} placeholder='email' type='text' />\n        <input className='login-input' value={pass} onChange={e => setPass(e.target.value)} placeholder='password' type='password' />\n        <button className='login-button' onClick={ () => handleLogin(email, pass)}>Login</button>\n        <span className='login-create' onClick={console.log()}><strong>Forgot password?</strong><br/></span>\n        <span className='login-create'>Don’t have an account? <br/><strong onClick={console.log()}>Create Account</strong></span>\n        <span className='logErr'></span>\n        <span className='login-dot'></span>\n    </div>\n    </div>\n  )\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}