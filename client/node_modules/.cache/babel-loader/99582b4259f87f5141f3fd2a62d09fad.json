{"ast":null,"code":"var _jsxFileName = \"/Users/wojtek/Downloads/todo/client/src/components/TaskAdd.js\";\nimport React, { Component, Fragment } from 'react';\nimport login from './img/log.png';\nimport './TaskAdd.sass';\n\nclass TaskAdd extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: '',\n      email: '',\n      pass: '',\n      confPass: ''\n    };\n\n    this.handleLoginBtn = () => {\n      document.querySelector('.login').style.display = 'block';\n    };\n\n    this.handleRegisterBtn = () => {\n      document.querySelector('.login').style.display = 'none';\n      document.querySelector('.register').style.display = 'block';\n    };\n\n    this.handleTitleChange = e => {\n      this.setState({\n        title: e.target.value\n      });\n    };\n\n    this.handleEmailChange = e => {\n      this.setState({\n        email: e.target.value\n      });\n    };\n\n    this.handlePassChange = e => {\n      this.setState({\n        pass: e.target.value\n      });\n    };\n\n    this.handlePassRepeatChange = e => {\n      this.setState({\n        confPass: e.target.value\n      });\n    };\n\n    this.handleLogin = async e => {\n      const email = this.state.email;\n      const pass = this.state.pass;\n      const errField = document.querySelector('.logErr');\n      const errFField = document.querySelector('.firstLogErr');\n\n      if (email.length < 6) {\n        errField.innerText = 'Too short email!';\n        errFField.innerText = 'Too short email!';\n      } else if (!email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) {\n        errField.innerText = 'Incorrect email!';\n        errFField.innerText = 'Incorrect email!';\n      } else if (!pass.match(/^(?=.*[\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\\w!@#$%^&*]{8,}$/)) {\n        errField.innerText = 'Incorrect password';\n        errFField.innerText = 'Incorrect password';\n      } else {\n        this.setState({\n          email: '',\n          pass: ''\n        });\n        errField.innerText = '';\n        errFField.innerText = ''; // const response = await fetch('/login', {\n        //     method: 'POST',\n        //     headers: {\n        //     'Content-Type': 'application/json',\n        //     },\n        //     body: JSON.stringify({ email, pass }),\n        // })\n        // let answer = await response.text()\n        // answer = JSON.parse(answer)\n        // errField.innerText = answer.info\n        // cookies.set('user', answer.user)\n        // if (answer.tasks) cookies.set('tasks', answer.tasks)\n        // window.location.reload(false)\n      }\n    };\n\n    this.handleRegister = async e => {\n      e.preventDefault();\n      const email = e.target.emailReg.value;\n      const pass = e.target.passReg.value;\n      const errField = document.getElementById('regErr');\n      if (email.length < 6) errField.innerText = 'Too short email!';else if (!email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) errField.innerText = 'Incorrect email!';else if (!pass.match(/^(?=.*[\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\\w!@#$%^&*]{8,}$/)) errField.innerText = 'Incorrect password!';else {\n        document.getElementById('registerForm').reset();\n        errField.innetText = '';\n        const response = await fetch('/register', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email,\n            pass\n          })\n        });\n        const answer = await response.text();\n        errField.innerText = answer;\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-bar\",\n      onClick: this.handleLoginBtn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"login-img\",\n      src: login,\n      alt: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"log\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, \"Log in\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"taskAddPanel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"userHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, \"Hey!\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"newTaskForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"newTaskHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, \"Add new task\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.title,\n      onChange: this.handleTitleChange,\n      placeholder: \"title\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.date,\n      onChange: this.handleDateChange,\n      placeholder: \"date\",\n      type: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"priorityChoose\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, \"Priority:\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"priorityOption\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"Low\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"priorityOption\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, \"Medium\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"priorityOption\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, \"High\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"addTask\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"login-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, \"Welcome back.\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"login-subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, \"It is really nice to see you again!\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"login-input\",\n      value: this.state.email,\n      onChange: this.handleEmailChange,\n      placeholder: \"email\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"login-input\",\n      value: this.state.pass,\n      onChange: this.handlePassChange,\n      placeholder: \"password\",\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"login-button\",\n      onClick: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"login-create\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, \"Don\\u2019t have an account? \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 75\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      onClick: this.handleRegisterBtn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 80\n      }\n    }, \"Create Account\")), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"logErr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"login-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, \"Join us!\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"login-subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, \"Take control over your tasks!\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"login-input\",\n      value: this.state.email,\n      onChange: this.handleEmailChange,\n      placeholder: \"email\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"login-input\",\n      value: this.state.pass,\n      onChange: this.handlePassChange,\n      placeholder: \"password\",\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"login-input\",\n      value: this.state.confPass,\n      onChange: this.handlePassRepeatChange,\n      placeholder: \"confirm password\",\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"login-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"regErr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-first\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"login-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, \"Nice to meet you!\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"login-subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, \"We are glad that you have become our new user!\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"login-subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 54\n      }\n    }, \"Log in\"), \" and create your first task\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"login-input\",\n      value: this.state.email,\n      onChange: this.handleEmailChange,\n      placeholder: \"email\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"login-input\",\n      value: this.state.pass,\n      onChange: this.handlePassChange,\n      placeholder: \"password\",\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"login-button\",\n      onClick: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"firstLogErr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }))));\n  }\n\n}\n\nexport default TaskAdd;","map":{"version":3,"sources":["/Users/wojtek/Downloads/todo/client/src/components/TaskAdd.js"],"names":["React","Component","Fragment","login","TaskAdd","state","title","email","pass","confPass","handleLoginBtn","document","querySelector","style","display","handleRegisterBtn","handleTitleChange","e","setState","target","value","handleEmailChange","handlePassChange","handlePassRepeatChange","handleLogin","errField","errFField","length","innerText","match","handleRegister","preventDefault","emailReg","passReg","getElementById","reset","innetText","response","fetch","method","headers","body","JSON","stringify","answer","text","render","date","handleDateChange"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react'\nimport login from './img/log.png'\nimport './TaskAdd.sass'\n\nclass TaskAdd extends Component {\n    state = {\n        title: '',\n        email: '',\n        pass: '',\n        confPass: '',\n    }\n\n    handleLoginBtn = () => {\n        document.querySelector('.login').style.display = 'block'\n    }\n\n    handleRegisterBtn = () => {\n        document.querySelector('.login').style.display = 'none'\n        document.querySelector('.register').style.display = 'block'\n    }\n\n    handleTitleChange = e => {\n        this.setState({\n            title: e.target.value\n        })\n    }\n\n    handleEmailChange = e => {\n        this.setState({\n            email: e.target.value\n        })\n    }\n\n    handlePassChange = e => {\n        this.setState({\n            pass: e.target.value\n        })\n    }\n\n    handlePassRepeatChange = e => {\n        this.setState({\n            confPass: e.target.value\n        })\n    }\n\n    handleLogin = async e => {\n        const email = this.state.email\n        const pass = this.state.pass\n        const errField = document.querySelector('.logErr')\n        const errFField = document.querySelector('.firstLogErr')\n    \n        if (email.length < 6) {\n            errField.innerText = 'Too short email!'\n            errFField.innerText = 'Too short email!'\n        }\n\n        else if (!email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) {\n            errField.innerText = 'Incorrect email!'\n            errFField.innerText = 'Incorrect email!'\n        }\n    \n        else if (!pass.match(/^(?=.*[\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\\w!@#$%^&*]{8,}$/)) {\n            errField.innerText = 'Incorrect password'\n            errFField.innerText = 'Incorrect password'\n        }\n    \n        else {\n            this.setState({\n                email: '',\n                pass: '',\n        })\n            errField.innerText = ''\n            errFField.innerText = ''\n            // const response = await fetch('/login', {\n            //     method: 'POST',\n            //     headers: {\n            //     'Content-Type': 'application/json',\n            //     },\n            //     body: JSON.stringify({ email, pass }),\n            // })\n    \n            // let answer = await response.text()\n            // answer = JSON.parse(answer)\n            // errField.innerText = answer.info\n            // cookies.set('user', answer.user)\n            // if (answer.tasks) cookies.set('tasks', answer.tasks)\n            // window.location.reload(false)\n        }\n    }\n\n    handleRegister = async e => {\n        e.preventDefault()\n        const email = e.target.emailReg.value\n        const pass = e.target.passReg.value\n        const errField = document.getElementById('regErr')\n    \n        if (email.length < 6) errField.innerText = 'Too short email!'\n        else if (!email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) errField.innerText = 'Incorrect email!'\n    \n        else if (!pass.match(/^(?=.*[\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\\w!@#$%^&*]{8,}$/)) errField.innerText = 'Incorrect password!'\n    \n        else {\n            document.getElementById('registerForm').reset()\n            errField.innetText = ''\n            const response = await fetch('/register', {\n                method: 'POST',\n                headers: {\n                'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ email, pass }),\n            })\n            const answer = await response.text();\n            errField.innerText = answer\n        }\n    }   \n    \n    render () {\n    return (\n        <Fragment>\n            <div className='login-bar' onClick={this.handleLoginBtn}>\n                <img className='login-img' src={login} alt='login' />\n                <div className='log'>Log in</div>\n            </div>\n            <div className='taskAddPanel'>\n                <div className='userHeader'>Hey!</div>\n                <div className='newTaskForm'>\n                    <span className='newTaskHeader'>Add new task</span>\n                    <input value={this.state.title} onChange={this.handleTitleChange} placeholder='title' type='text' />\n                    <input value={this.state.date} onChange={this.handleDateChange} placeholder='date' type='date' />\n                    <div className='priorityChoose'>\n                    <span>Priority:</span>\n                        <span className='priorityOption'>Low</span>\n                        <span className='priorityOption'>Medium</span>\n                        <span className='priorityOption'>High</span>\n                    </div>\n                    <div className='addTask'></div>\n                </div>\n                <div className='login'>\n                    <span className='login-title'>Welcome back.</span>\n                    <span className='login-subtitle'>It is really nice to see you again!</span>\n                    <input className='login-input' value={this.state.email} onChange={this.handleEmailChange} placeholder='email' type='text' />\n                    <input className='login-input' value={this.state.pass} onChange={this.handlePassChange} placeholder='password' type='password' />\n                    <button className='login-button' onClick={this.handleLogin}>Login</button>\n                    <span className='login-create'>Donâ€™t have an account? <br/><strong onClick={this.handleRegisterBtn}>Create Account</strong></span>\n                    <span className='logErr'></span>\n                </div>\n                <div className='register'>\n                    <span className='login-title'>Join us!</span>\n                    <span className='login-subtitle'>Take control over your tasks!</span>\n                    <input className='login-input' value={this.state.email} onChange={this.handleEmailChange} placeholder='email' type='text' />\n                    <input className='login-input' value={this.state.pass} onChange={this.handlePassChange} placeholder='password' type='password' />\n                    <input className='login-input' value={this.state.confPass} onChange={this.handlePassRepeatChange} placeholder='confirm password' type='password' />\n                    <button className='login-button'>Register</button>\n                    <span className='regErr'></span>\n                </div>\n                <div className='login-first'>\n                    <span className='login-title'>Nice to meet you!</span>\n                    <span className='login-subtitle'>We are glad that you have become our new user!</span>\n                    <span className='login-subtitle'><strong>Log in</strong> and create your first task</span>\n                    <input className='login-input' value={this.state.email} onChange={this.handleEmailChange} placeholder='email' type='text' />\n                    <input className='login-input' value={this.state.pass} onChange={this.handlePassChange} placeholder='password' type='password' />\n                    <button className='login-button' onClick={this.handleLogin}>Login</button>\n                    <span className='firstLogErr'></span>\n                </div>\n            </div>\n        </Fragment>\n    )}\n}\n\nexport default TaskAdd"]},"metadata":{},"sourceType":"module"}